
import json
import pandas as pd
import os



def open_cve_version_files(dir_path):
    res = []
    for path in os.listdir(dir_path):
        # check if current path is a file
        if os.path.isfile(os.path.join(dir_path, path)):
            res.append(path)
    return res

def open_cve_version_file(dir_path):
    parsed_json = ''
    with open(dir_path) as user_file:
        file_contents = user_file.read()
        parsed_json = json.loads(file_contents)
    return parsed_json

def generateDatabase():
    database = pd.DataFrame({'Module': pd.Series(dtype='str'),
                   'Version': pd.Series(dtype='str')})



def generate_database():
    dir_path = 'results/'
    # create an Empty DataFrame object
    
    cve_list = open_cve_version_files(dir_path)
    for cve in cve_list:
        cve_version = open_cve_version_file(dir_path + cve)
        print(cve_version)

generate_database()